---
description: 量化交易项目通用开发规范
globs:
alwaysApply: true
---

# 量化交易项目通用规范

## 语言偏好
- 优先使用中文进行回复和注释
- 代码变量和函数名使用英文，但注释使用中文

## 代码风格
- 使用 Python 3.8+ 的类型注解
- 遵循 PEP 8 编码规范
- 使用 dataclass 来定义数据结构
- 优先使用 pandas 和 numpy 进行数据处理

## 项目结构
```
quant/
├── strategies/      # 策略实现
├── backtest/       # 回测引擎
├── data/           # 数据获取和处理
├── utils/          # 工具函数
├── config/         # 配置文件
└── tests/          # 单元测试
```

## 量化开发原则
- 始终考虑交易成本（手续费、滑点等）
- 避免未来函数和前视偏差
- 所有策略必须经过充分回测
- 使用 vectorized operations 提高性能
- 记录所有交易信号和执行日志

## 风险管理
- 每个策略必须包含止损逻辑
- 实现仓位管理和资金管理
- 考虑最大回撤限制
- 添加异常处理和错误恢复机制

## 数据处理
- 数据清洗时保留原始数据备份
- 处理缺失值、异常值和停牌数据
- 使用标准化的时间戳格式（UTC）
- 数据来源必须可靠且可追溯